<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>18 & Sans Limite ğŸ‰</title>
    <link rel="stylesheet" href="/static/style.css">
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
</head>
<body>

<h1>ğŸ‚ 18 & Sans Limite ğŸ”¥</h1>

<a href="/classement">
    <button>ğŸ† Voir le classement</button>
</a>

{% if not gage %}

<form method="POST">
    <input type="text" name="numero" placeholder="Entre ton numÃ©ro" required>
    <br><br>
    <button type="submit">Entrer ğŸ‰</button>
</form>

{% else %}

<h2>Ton dÃ©fi :</h2>

<p class="gage">
    {{ gage["texte"] }} <br>
    <strong>+{{ gage["points"] }} points ğŸ¯</strong>
</p>

<form action="/valider" method="POST">
    <button type="submit">DÃ©fi rÃ©alisÃ© âœ…</button>
</form>

<form action="/" method="GET">
    <button type="submit">ğŸ² Donner un nouveau gage</button>
</form>

<form action="/" method="POST">
    <button type="submit">â¬… Retour (changer de numÃ©ro)</button>
</form>

<h3>ğŸ“œ DÃ©fis rÃ©alisÃ©s :</h3>
<ul>
    {% for h in historique %}
        <li>{{ h["texte_gage"] }} (+{{ h["points"] }} pts)</li>
    {% endfor %}
</ul>

{% endif %}

<script>
if (window.location.search.includes("confetti=1")) {
    confetti({
        particleCount: 200,
        spread: 90,
        origin: { y: 0.6 }
    });
}
</script>

</body>
</html>
